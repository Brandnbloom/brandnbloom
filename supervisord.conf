~~~{"variant":"code/plain","title":"supervisord.conf","id":"68424"}
[supervisord]
nodaemon=true
logfile=/tmp/supervisord.log
loglevel=info

; -------------------------------
; FastAPI backend
; -------------------------------
[program:api]
command=uvicorn api_server:app --host 0.0.0.0 --port 10000
autostart=true
autorestart=true
stderr_logfile=/dev/stderr
stdout_logfile=/dev/stdout
priority=1
startsecs=5

; -------------------------------
; Streamlit frontend
; -------------------------------
[program:streamlit]
command=streamlit run streamlit_app.py --server.port=8501 --server.address=0.0.0.0 --server.headless=true
autostart=true
autorestart=true
stderr_logfile=/dev/stderr
stdout_logfile=/dev/stdout
priority=2
startsecs=5
