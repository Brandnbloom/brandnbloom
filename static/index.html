<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Brand n Bloom ðŸŒ¸</title>

  <!-- SEO -->
  <meta name="description" content="Brand n Bloom â€“ AI-powered branding and business tools for creatives and entrepreneurs." />
  <meta name="keywords" content="Branding, AI tools, Design, Marketing, Business, Entrepreneurs" />
  <meta name="author" content="Brand n Bloom" />

  <!-- Social Sharing -->
  <meta property="og:title" content="Brand n Bloom ðŸŒ¸" />
  <meta property="og:description" content="AI-powered branding and business tools for creatives and entrepreneurs." />
  <meta property="og:image" content="/icons/icon-512.png" />
  <meta property="og:url" content="https://brand-n-bloom.com" />
  <meta name="twitter:card" content="summary_large_image" />

  <!-- Icons -->
  <link rel="icon" href="/favicon.ico" type="image/x-icon" />
  <link rel="apple-touch-icon" href="/icons/icon-192.png" />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="theme-color" content="#FF2898" />

  <!-- Styles -->
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      overflow: hidden;
      background-color: #ffffff;
    }
    iframe {
      border: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
    }
  </style>
</head>

<body>

  <!-- Embedded Streamlit App -->
  <iframe 
    src="https://brand-n-bloom.onrender.com"
    title="Brand n Bloom App"
    allowfullscreen
    loading="lazy">
  </iframe>

  <!-- PWA Service Worker Registration (with retry) -->
  <script>
    function registerSW() {
      navigator.serviceWorker.register('/service-worker.js')
        .then(reg => console.log("âœ… Service worker registered!", reg))
        .catch(err => console.warn("âŒ Service worker failed:", err));
    }

    if ('serviceWorker' in navigator) {
      registerSW();

      // Retry after 5 secs if first attempt fails
      setTimeout(() => {
        if (!navigator.serviceWorker.controller) {
          console.log("ðŸ”„ Retrying service worker registration...");
          registerSW();
        }
      }, 5000);
    }
  </script>

</body>
</html>
